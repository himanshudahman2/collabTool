{"ast":null,"code":"var util = require('../../util');\n\nmodule.exports = RemotePresence;\n\nfunction RemotePresence(presence, presenceId) {\n  this.presence = presence;\n  this.presenceId = presenceId;\n  this.connection = this.presence.connection;\n  this.value = null;\n  this.presenceVersion = 0;\n}\n\nRemotePresence.prototype.receiveUpdate = function (message) {\n  if (message.pv < this.presenceVersion) return;\n  this.value = message.p;\n  this.presenceVersion = message.pv;\n\n  this.presence._updateRemotePresence(this);\n};\n\nRemotePresence.prototype.destroy = function (callback) {\n  delete this.presence._remotePresenceInstances[this.presenceId];\n  delete this.presence.remotePresences[this.presenceId];\n  if (callback) util.nextTick(callback);\n};","map":null,"metadata":{},"sourceType":"script"}