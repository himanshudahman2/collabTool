{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LENOVO\\\\Desktop\\\\tools\\\\CollabPro\\\\client\\\\src\\\\components\\\\userhome.js\";\nimport React, { Component } from \"react\";\nimport AppBar from \"@mui/material/AppBar\";\nimport Box from \"@mui/material/Box\";\nimport Toolbar from \"@mui/material/Toolbar\";\nimport Typography from \"@mui/material/Typography\";\nimport Button from \"@mui/material/Button\";\nimport IconButton from \"@mui/material/IconButton\";\nimport { Link } from \"react-router-dom\";\nimport TextField from \"@mui/material/TextField\";\nimport NoteAddIcon from \"@mui/icons-material/NoteAdd\";\nimport IntegrationInstructionsIcon from \"@mui/icons-material/IntegrationInstructions\";\nimport \"./userhome.css\";\nimport { withRouter } from \"react-router\";\nimport SourceIcon from \"@mui/icons-material/Source\";\nimport SessionImg from \"../icons/session.png\";\nimport axios from \"axios\";\n\nclass UserHome extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      existingSessions: [],\n      displaysession: []\n    };\n\n    this.DisplaySession = () => {\n      console.log(\"SESSIONSSSS :\", this.state.existingSessions);\n      this.state.existingSessions.forEach((items, index) => {\n        this.state.displaysession.push( /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: SessionImg,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 11\n          }\n        })));\n      });\n    };\n\n    this.randomString = (length, chars) => {\n      var result = \"\";\n\n      for (var i = length; i > 0; --i) result += chars[Math.floor(Math.random() * chars.length)];\n\n      return result;\n    };\n\n    this.createSession = () => {\n      console.log(\"create session react\", this); // !name || !sessionid ? e.preventDefault() : null;\n\n      let obj = {\n        user_id: this.props.match.params.userid,\n        session_id: this.randomString(12, \"0123456789\"),\n        role: \"admin\"\n      };\n      const sessionId = obj.session_id;\n      console.log(obj);\n      axios.post(\"http://localhost:5000/create_session\", obj).then(res => {\n        console.log(\"SUCCESS : \", res);\n        window.location.href = `/session?name=${this.props.match.params.username}&sessionid=${sessionId}`;\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.getSessions = () => {\n      axios.post(\"http://localhost:5000/get_sessions\", {\n        user_id: this.props.match.params.userid\n      }).then(res => {\n        console.log(\"CURRENT SESSIONS\", res.data); // let arr = [];\n\n        for (let i = 0; i < res.data.length; i++) {\n          let url = `/session?name=${this.props.match.params.username}&sessionid=${res.data[i].session_id}`;\n          this.state.displaysession.push( /*#__PURE__*/React.createElement(\"div\", {\n            style: {\n              fontSize: \"130px\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(\"a\", {\n            href: url,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(SourceIcon, {\n            fontSize: \"inherit\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 17\n            }\n          })), /*#__PURE__*/React.createElement(\"h6\", {\n            style: {\n              fontSize: \"10px\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 15\n            }\n          }, \"Session ID: \", res.data[i].session_id)));\n        } // console.log(arr);\n\n\n        this.setState({\n          existingSessions: res.data\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.setState({\n      userId: this.props.match.params.userid\n    });\n    this.createSession = this.createSession.bind(this);\n  }\n\n  componentDidMount() {\n    this.getSessions(); // this.DisplaySession();\n  }\n\n  render() {\n    let joinurl;\n    const name = this.randomString(10, \"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\"); // const sessionid = 1251;\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      sx: {\n        flexGrow: 1\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(AppBar, {\n      position: \"static\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Toolbar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      size: \"large\",\n      edge: \"start\",\n      color: \"inherit\",\n      \"aria-label\": \"menu\",\n      sx: {\n        mr: 2\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(IntegrationInstructionsIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Typography, {\n      variant: \"h6\",\n      component: \"div\",\n      sx: {\n        flexGrow: 1\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 15\n      }\n    }, \"CollabPro\"), /*#__PURE__*/React.createElement(Typography, {\n      variant: \"h6\",\n      component: \"div\",\n      sx: {\n        flexGrow: 1\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 15\n      }\n    }, \"Welcome \", this.props.match.params.username), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      color: \"inherit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }\n    }, \"Logout\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: \"60%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"session-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"session-form-heading\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      style: {\n        marginLeft: \"130px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }\n    }, \"Create New Session\")), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"session-form-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      id: \"outlined-basic\",\n      label: \"Session Name\",\n      variant: \"outlined\",\n      style: {\n        width: \"80%\"\n      },\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"session-form-filename\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      id: \"outlined-basic\",\n      label: \"File name\",\n      variant: \"outlined\",\n      style: {\n        width: \"80%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"session-form-createbtn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: this.createSession,\n      variant: \"contained\",\n      endIcon: /*#__PURE__*/React.createElement(NoteAddIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 28\n        }\n      }) // href=\"/session\"\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }\n    }, \"Create Session\"))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"session-join-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      style: {\n        marginLeft: \"130px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 15\n      }\n    }, \"Join Session\"), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"session-join-form-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      id: \"outlined-basic\",\n      label: \"Session Link\",\n      variant: \"outlined\",\n      style: {\n        width: \"80%\"\n      },\n      onChange: e => {\n        console.log(e.target.value);\n        joinurl = e.target.value;\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"session-join-form-joinbtn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      endIcon: /*#__PURE__*/React.createElement(IntegrationInstructionsIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 28\n        }\n      }),\n      href: joinurl,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 17\n      }\n    }, \"Join Session\")))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 13\n      }\n    }, \"Current Active Sessions\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        margin: \"10px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 13\n      }\n    }, this.state.displaysession))));\n  }\n\n}\n\nexport default withRouter(UserHome);","map":{"version":3,"sources":["C:/Users/LENOVO/Desktop/tools/CollabPro/client/src/components/userhome.js"],"names":["React","Component","AppBar","Box","Toolbar","Typography","Button","IconButton","Link","TextField","NoteAddIcon","IntegrationInstructionsIcon","withRouter","SourceIcon","SessionImg","axios","UserHome","constructor","props","state","existingSessions","displaysession","DisplaySession","console","log","forEach","items","index","push","randomString","length","chars","result","i","Math","floor","random","createSession","obj","user_id","match","params","userid","session_id","role","sessionId","post","then","res","window","location","href","username","catch","error","getSessions","data","url","fontSize","setState","userId","bind","componentDidMount","render","joinurl","name","flexGrow","mr","display","width","marginLeft","e","target","value","margin"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport AppBar from \"@mui/material/AppBar\";\r\nimport Box from \"@mui/material/Box\";\r\nimport Toolbar from \"@mui/material/Toolbar\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport Button from \"@mui/material/Button\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport { Link } from \"react-router-dom\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport NoteAddIcon from \"@mui/icons-material/NoteAdd\";\r\nimport IntegrationInstructionsIcon from \"@mui/icons-material/IntegrationInstructions\";\r\nimport \"./userhome.css\";\r\nimport { withRouter } from \"react-router\";\r\nimport SourceIcon from \"@mui/icons-material/Source\";\r\nimport SessionImg from \"../icons/session.png\";\r\nimport axios from \"axios\";\r\n\r\nclass UserHome extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.setState({ userId: this.props.match.params.userid });\r\n    this.createSession = this.createSession.bind(this);\r\n  }\r\n  state = {\r\n    existingSessions: [],\r\n    displaysession: [],\r\n  };\r\n  componentDidMount() {\r\n    this.getSessions();\r\n    // this.DisplaySession();\r\n  }\r\n  DisplaySession = () => {\r\n    console.log(\"SESSIONSSSS :\", this.state.existingSessions);\r\n    this.state.existingSessions.forEach((items, index) => {\r\n      this.state.displaysession.push(\r\n        <div>\r\n          <img src={SessionImg} />\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n  randomString = (length, chars) => {\r\n    var result = \"\";\r\n    for (var i = length; i > 0; --i)\r\n      result += chars[Math.floor(Math.random() * chars.length)];\r\n    return result;\r\n  };\r\n  createSession = () => {\r\n    console.log(\"create session react\", this);\r\n    // !name || !sessionid ? e.preventDefault() : null;\r\n    let obj = {\r\n      user_id: this.props.match.params.userid,\r\n      session_id: this.randomString(12, \"0123456789\"),\r\n      role: \"admin\",\r\n    };\r\n    const sessionId = obj.session_id;\r\n    console.log(obj);\r\n    axios\r\n      .post(\"http://localhost:5000/create_session\", obj)\r\n      .then((res) => {\r\n        console.log(\"SUCCESS : \", res);\r\n        window.location.href = `/session?name=${this.props.match.params.username}&sessionid=${sessionId}`;\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  getSessions = () => {\r\n    axios\r\n      .post(\"http://localhost:5000/get_sessions\", {\r\n        user_id: this.props.match.params.userid,\r\n      })\r\n      .then((res) => {\r\n        console.log(\"CURRENT SESSIONS\", res.data);\r\n        // let arr = [];\r\n        for (let i = 0; i < res.data.length; i++) {\r\n          let url = `/session?name=${this.props.match.params.username}&sessionid=${res.data[i].session_id}`;\r\n          this.state.displaysession.push(\r\n            <div style={{ fontSize: \"130px\" }}>\r\n              <a href={url}>\r\n                <SourceIcon fontSize=\"inherit\" />\r\n              </a>\r\n              <h6 style={{ fontSize: \"10px\" }}>\r\n                Session ID: {res.data[i].session_id}\r\n              </h6>\r\n            </div>\r\n          );\r\n        }\r\n        // console.log(arr);\r\n        this.setState({ existingSessions: res.data });\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n  render() {\r\n    let joinurl;\r\n    const name = this.randomString(\r\n      10,\r\n      \"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\"\r\n    );\r\n    // const sessionid = 1251;\r\n    return (\r\n      <div>\r\n        <Box sx={{ flexGrow: 1 }}>\r\n          <AppBar position=\"static\">\r\n            <Toolbar>\r\n              <IconButton\r\n                size=\"large\"\r\n                edge=\"start\"\r\n                color=\"inherit\"\r\n                aria-label=\"menu\"\r\n                sx={{ mr: 2 }}\r\n              >\r\n                <IntegrationInstructionsIcon />\r\n              </IconButton>\r\n              <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }}>\r\n                CollabPro\r\n              </Typography>\r\n              <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }}>\r\n                Welcome {this.props.match.params.username}\r\n              </Typography>\r\n              <a href=\"/\">\r\n                <Button color=\"inherit\">Logout</Button>\r\n              </a>\r\n            </Toolbar>\r\n          </AppBar>\r\n        </Box>\r\n        <div style={{ display: \"flex\" }}>\r\n          <div style={{ width: \"60%\" }}>\r\n            <div id=\"session-form\">\r\n              <div id=\"session-form-heading\">\r\n                <h1 style={{ marginLeft: \"130px\" }}>Create New Session</h1>\r\n              </div>\r\n              <div id=\"session-form-name\">\r\n                <TextField\r\n                  id=\"outlined-basic\"\r\n                  label=\"Session Name\"\r\n                  variant=\"outlined\"\r\n                  style={{ width: \"80%\" }}\r\n                  required\r\n                />\r\n              </div>\r\n              <div id=\"session-form-filename\">\r\n                <TextField\r\n                  id=\"outlined-basic\"\r\n                  label=\"File name\"\r\n                  variant=\"outlined\"\r\n                  style={{ width: \"80%\" }}\r\n                />\r\n              </div>\r\n\r\n              <div id=\"session-form-createbtn\">\r\n                {/* <Link\r\n                onClick={(e) =>\r\n                  !name || !sessionid ? e.preventDefault() : null\r\n                }\r\n                to={`/session?name=${name}&sessionid=${sessionid}`}\r\n              >\r\n                <Button\r\n                  variant=\"contained\"\r\n                  endIcon={<NoteAddIcon />}\r\n                  // href=\"/session\"\r\n                >\r\n                  Create Session\r\n                </Button>\r\n              </Link> */}\r\n\r\n                <Button\r\n                  onClick={this.createSession}\r\n                  variant=\"contained\"\r\n                  endIcon={<NoteAddIcon />}\r\n                  // href=\"/session\"\r\n                >\r\n                  Create Session\r\n                </Button>\r\n              </div>\r\n            </div>\r\n            <div id=\"session-join-form\">\r\n              <h1 style={{ marginLeft: \"130px\" }}>Join Session</h1>\r\n              <div id=\"session-join-form-link\">\r\n                <TextField\r\n                  id=\"outlined-basic\"\r\n                  label=\"Session Link\"\r\n                  variant=\"outlined\"\r\n                  style={{ width: \"80%\" }}\r\n                  onChange={(e) => {\r\n                    console.log(e.target.value);\r\n                    joinurl = e.target.value;\r\n                  }}\r\n                />\r\n              </div>\r\n              <div id=\"session-join-form-joinbtn\">\r\n                <Button\r\n                  variant=\"contained\"\r\n                  endIcon={<IntegrationInstructionsIcon />}\r\n                  href={joinurl}\r\n                >\r\n                  Join Session\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <h1>Current Active Sessions</h1>\r\n            <div style={{ display: \"flex\", margin: \"10px\" }}>\r\n              {this.state.displaysession}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(UserHome);\r\n"]},"metadata":{},"sourceType":"module"}